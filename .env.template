# ============================================
# KlikkFlow Environment Variables Template
# ============================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env files with real secrets to git
#
# For VPS deployment, these are managed via GitHub Secrets
# and automatically generated during deployment
# ============================================

# ============================================
# ENVIRONMENT
# ============================================
NODE_ENV=production
PORT=3001

# ============================================
# DATABASE CONFIGURATION
# ============================================

# MongoDB (Primary Database)
MONGODB_URI=mongodb://mongo:27017/klikkflow
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=<your-secure-password>

# PostgreSQL with pgvector (AI/Vector Operations)
POSTGRES_URL=postgresql://klikkflow:<password>@postgres:5432/klikkflow
POSTGRES_PASSWORD=<your-secure-password>
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=klikkflow
POSTGRES_USER=klikkflow

# Redis (Caching & Queues)
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379

# ============================================
# SECURITY & AUTHENTICATION
# ============================================

# JWT Configuration
# Generate with: openssl rand -base64 32
JWT_SECRET=<your-jwt-secret-min-32-chars>
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Encryption
# Generate with: openssl rand -hex 32
CREDENTIAL_ENCRYPTION_KEY=<your-encryption-key-64-hex-chars>
SESSION_SECRET=<your-session-secret-32-chars>

# CORS
CORS_ORIGIN=https://app.klikk.ai,https://api.klikk.ai
FRONTEND_URL=https://app.klikk.ai
BACKEND_URL=https://api.klikk.ai

# ============================================
# AI SERVICES
# ============================================

# OpenAI
OPENAI_API_KEY=sk-<your-openai-api-key>
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-<your-anthropic-api-key>
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Google AI
GOOGLE_AI_KEY=<your-google-ai-key>

# ============================================
# OAUTH & INTEGRATIONS
# ============================================

# Google OAuth
GOOGLE_CLIENT_ID=<your-google-client-id>
GOOGLE_CLIENT_SECRET=<your-google-client-secret>
GOOGLE_REDIRECT_URI=https://app.klikk.ai/auth/google/callback

# GitHub OAuth
GITHUB_CLIENT_ID=<your-github-client-id>
GITHUB_CLIENT_SECRET=<your-github-client-secret>
GITHUB_WEBHOOK_SECRET=<your-github-webhook-secret>

# Slack
SLACK_BOT_TOKEN=xoxb-<your-slack-bot-token>
SLACK_SIGNING_SECRET=<your-slack-signing-secret>

# Discord
DISCORD_BOT_TOKEN=<your-discord-bot-token>
DISCORD_CLIENT_ID=<your-discord-client-id>

# ============================================
# EMAIL & NOTIFICATIONS
# ============================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=<your-email>
SMTP_PASS=<your-app-password>
SMTP_FROM=noreply@klikk.ai

# SendGrid (Alternative)
SENDGRID_API_KEY=<your-sendgrid-api-key>
SENDGRID_FROM_EMAIL=noreply@klikk.ai

# ============================================
# MONITORING & LOGGING
# ============================================

# Sentry (Error Tracking)
SENTRY_DSN=https://<your-sentry-dsn>
SENTRY_ENVIRONMENT=production

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Grafana
GRAFANA_ADMIN_PASSWORD=<your-grafana-password>

# ============================================
# FEATURE FLAGS
# ============================================

# Backend Features
ENABLE_AI_FEATURES=true
ENABLE_REAL_TIME=true
ENABLE_ANALYTICS=true
ENABLE_ENTERPRISE_FEATURES=false

# Frontend Feature Flags (VITE_)
VITE_FEATURE_AI_ASSISTANT=true
VITE_FEATURE_COLLABORATION=true
VITE_FEATURE_ANALYTICS=true

# ============================================
# FILE STORAGE
# ============================================

# Local Storage
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=104857600  # 100MB in bytes

# AWS S3 (Optional)
AWS_ACCESS_KEY_ID=<your-aws-access-key>
AWS_SECRET_ACCESS_KEY=<your-aws-secret-key>
AWS_REGION=us-east-1
AWS_S3_BUCKET=klikkflow-uploads

# ============================================
# RATE LIMITING
# ============================================

RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# WORKER CONFIGURATION
# ============================================

WORKER_MODE=true
WORKER_CONCURRENCY=5

# ============================================
# API CONFIGURATION
# ============================================

VITE_API_URL=https://api.klikk.ai/api
VITE_API_BASE_URL=https://api.klikk.ai/api
VITE_WS_URL=wss://api.klikk.ai

# ============================================
# DOCKER PORTS (for docker-compose)
# ============================================

FRONTEND_PORT=3000
BACKEND_PORT=3001
MONGO_PORT=27017
POSTGRES_PORT=5432
REDIS_PORT=6379

# ============================================
# NOTES FOR VPS DEPLOYMENT
# ============================================
#
# For VPS deployment via GitHub Actions:
# 1. DO NOT commit this file with real values
# 2. All values are managed via GitHub Secrets
# 3. See docs/deployment/VPS_SETUP.md for secret configuration
# 4. The deployment workflow generates .env.blue and .env.green
#
# GitHub Secrets Prefix: VPS_*
# Example: VPS_JWT_SECRET, VPS_MONGODB_URI, etc.
#
# ============================================
