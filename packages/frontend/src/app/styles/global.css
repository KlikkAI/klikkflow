/* Import Gmail-specific styles */
@import "../../design-system/styles/gmail.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Ant Design Dark Theme CSS Variables */
:root {
  --ant-color-bg-container: #1f2937;
  --ant-color-bg-elevated: #1f2937;
  --ant-color-text: #e5e7eb;
  --ant-color-text-secondary: #9ca3af;
  --ant-color-border: #374151;
}

/* Custom styles */
@layer base {
  * {
    box-sizing: border-box;
  }

  html {
    /* Ensure dark background persists after initial load */
    background: linear-gradient(to bottom right, #0f172a, #1e3a8a, #312e81);
    background-color: #0f172a;
    color-scheme: dark;
  }

  body {
    margin: 0;
    font-family:
      -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell",
      "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Inherit background from html to maintain consistency */
    background: inherit;
    min-height: 100vh;
    color: rgba(255, 255, 255, 0.87);
  }

  #root {
    min-width: 100vw;
    min-height: 100vh;
    /* Transparent background to show gradient from body */
    background: transparent;
  }
}

/* Component styles - removed @layer wrapper for higher specificity */
.workflow-editor {
    @apply h-screen bg-gray-900;
  }

  .react-flow__node {
    @apply rounded-lg border-2 border-gray-600 bg-gray-800 shadow-lg;
  }

  .react-flow__node.selected {
    @apply border-primary-500;
  }

  .react-flow__handle {
    @apply w-2 h-2 bg-primary-500;
  }

  .node-panel {
    @apply bg-gray-800 border-r border-gray-700 p-4;
  }

  .property-panel {
    @apply bg-gray-800 border-l border-gray-700 p-4;
  }

  /* Custom Ant Design dropdown styling for dark theme */
  .custom-dark-dropdown .ant-select-item {
    background-color: #374151;
    color: #ffffff;
  }

  .custom-dark-dropdown .ant-select-item:hover {
    background-color: #4b5563;
    color: #ffffff;
  }

  .custom-dark-dropdown .ant-select-item-option-selected {
    background-color: #2563eb;
    color: #ffffff;
  }

  .custom-dark-dropdown .ant-select-item-option-active {
    background-color: #4b5563;
    color: #ffffff;
  }

  /* Global dark theme overrides for Ant Design components in property panels */
  .ant-select-dropdown {
    background-color: #374151;
    border: 1px solid #6b7280;
  }

  .ant-select-item {
    background-color: #374151;
    color: #ffffff;
  }

  .ant-select-item:hover {
    background-color: #4b5563;
    color: #ffffff;
  }

  .ant-select-item-option-selected {
    background-color: #2563eb;
    color: #ffffff;
  }

  .ant-select-item-option-active {
    background-color: #4b5563;
    color: #ffffff;
  }

  /* Input field placeholder styling */
  .ant-input::placeholder,
  .ant-input-number-input::placeholder {
    color: #9ca3af;
  }

  /* Card styling for dark theme */
  .ant-card {
    background-color: #4b5563;
    border-color: #6b7280;
    color: #ffffff;
  }

  .ant-card-body {
    color: #ffffff;
  }

  /* Force readable text colors in Settings and all forms */
  .universal-form label,
  .universal-form .ant-form-item-label > label,
  .ant-form-item-label > label,
  label {
    color: #e5e7eb !important; /* text-gray-200 */
  }

  /* Switch and Checkbox labels */
  .ant-switch + span,
  .ant-checkbox-wrapper,
  .ant-checkbox-wrapper span {
    color: #e5e7eb !important; /* text-gray-200 */
  }

  /* Description text and subtitles */
  .universal-form .description,
  .ant-form-item-extra,
  .subtitle,
  p.text-secondary {
    color: #9ca3af !important; /* text-gray-400 */
  }

  /* Section titles in forms */
  .ant-card-head-title,
  .section-title,
  h2, h3, h4 {
    color: #ffffff !important;
  }

  /* Input text should be white */
  .ant-input,
  .ant-input-number-input,
  .ant-select-selection-item {
    color: #ffffff !important;
  }

  /* Ant Design Typography components - force light colors */
  .ant-typography,
  .ant-typography-secondary,
  .ant-paragraph,
  .ant-typography.ant-typography-secondary,
  span.ant-typography,
  span.ant-typography-secondary,
  div.ant-typography,
  p.ant-typography,
  .ant-typography p {
    color: #9ca3af !important; /* text-gray-400 */
  }

  /* Typography titles should be white */
  .ant-typography h1,
  .ant-typography h2,
  .ant-typography h3,
  .ant-typography h4,
  .ant-typography h5,
  .ant-typography-h1,
  .ant-typography-h2,
  .ant-typography-h3,
  .ant-typography-h4,
  .ant-typography-h5 {
    color: #ffffff !important;
  }

  /* Regular Text component (not secondary) */
  .ant-typography:not(.ant-typography-secondary) {
    color: #e5e7eb !important; /* text-gray-200 */
  }

  /* Extra aggressive rules for secondary text */
  [class*="ant-typography-secondary"],
  [class*="ant-paragraph"] {
    color: #9ca3af !important;
  }

  /* Modal content - comprehensive dark theme */
  .ant-modal-wrap,
  .ant-modal-root {
    background-color: rgba(0, 0, 0, 0.65) !important;
  }

  .ant-modal-content {
    background-color: #1f2937 !important; /* Dark background */
    border: 1px solid #374151 !important;
  }

  .ant-modal-header {
    background-color: #1f2937 !important; /* Dark header */
    border-bottom: 1px solid #374151 !important;
  }

  .ant-modal-title {
    color: #ffffff !important;
  }

  .ant-modal-body {
    background-color: #1f2937 !important; /* Dark body */
    color: #e5e7eb !important;
  }

  .ant-modal-footer {
    background-color: #1f2937 !important; /* Dark footer */
    border-top: 1px solid #374151 !important;
  }

  /* Form elements in modals */
  .ant-modal .ant-form-item-label > label {
    color: #e5e7eb !important;
  }

  .ant-modal .ant-form-item-explain,
  .ant-modal .ant-form-item-extra {
    color: #9ca3af !important;
  }

  /* Input fields in modals - dark background */
  .ant-modal .ant-input,
  .ant-modal .ant-input-number,
  .ant-modal .ant-input-number-input {
    background-color: #374151 !important;
    border-color: #6b7280 !important;
    color: #ffffff !important;
  }

  .ant-modal .ant-input::placeholder,
  .ant-modal .ant-input-number-input::placeholder {
    color: #9ca3af !important;
  }

  .ant-modal .ant-input:hover,
  .ant-modal .ant-input-number:hover {
    border-color: #9ca3af !important;
  }

  .ant-modal .ant-input:focus,
  .ant-modal .ant-input-number:focus,
  .ant-modal .ant-input-focused {
    background-color: #374151 !important;
    border-color: #3b82f6 !important;
  }

  /* Select dropdowns in modals */
  .ant-modal .ant-select-selector {
    background-color: #374151 !important;
    border-color: #6b7280 !important;
    color: #ffffff !important;
  }

  .ant-modal .ant-select-selection-item,
  .ant-modal .ant-select-selection-placeholder {
    color: #ffffff !important;
  }

  .ant-modal .ant-select-arrow {
    color: #9ca3af !important;
  }

  /* Checkbox labels in modals - force white text */
  .ant-modal .ant-checkbox-wrapper {
    color: #ffffff !important;
  }

  .ant-modal .ant-checkbox-wrapper span,
  .ant-modal .ant-checkbox-wrapper > span:not(.ant-checkbox) {
    color: #ffffff !important;
  }

  .ant-modal .ant-checkbox + span {
    color: #ffffff !important;
  }

  /* Strong/bold text in modals */
  .ant-modal strong {
    color: #ffffff !important;
  }

  /* Alert in modals */
  .ant-modal .ant-alert {
    background-color: #1e3a8a !important;
    border-color: #3b82f6 !important;
  }

  .ant-modal .ant-alert-message,
  .ant-modal .ant-alert-description {
    color: #e5e7eb !important;
  }

  /* Error states */
  .ant-modal .ant-form-item-has-error .ant-input,
  .ant-modal .ant-form-item-has-error .ant-input-number {
    background-color: #374151 !important;
    border-color: #ef4444 !important;
  }

  .ant-modal .ant-form-item-explain-error {
    color: #fca5a5 !important;
  }

/* Landing Page-Inspired Dashboard Styles */
@layer components {
  /* Gradient Cards with Glassmorphism */
  .dashboard-card {
    @apply bg-gradient-to-br from-slate-800/50 to-blue-900/30 border border-blue-500/20 backdrop-blur-sm transition-all duration-300;
  }

  .dashboard-card:hover {
    @apply border-blue-500/40 shadow-lg shadow-blue-500/10;
  }

  /* Stats Cards with Color-Specific Gradients */
  .stats-card-blue {
    @apply bg-gradient-to-br from-blue-500/25 to-purple-500/25 border border-blue-500/50 backdrop-blur-sm shadow-md shadow-blue-500/10 transition-all duration-300;
  }

  .stats-card-blue:hover {
    @apply border-blue-500/70 shadow-xl shadow-blue-500/25;
  }

  .stats-card-green {
    @apply bg-gradient-to-br from-green-500/25 to-cyan-500/25 border border-green-500/50 backdrop-blur-sm shadow-md shadow-green-500/10 transition-all duration-300;
  }

  .stats-card-green:hover {
    @apply border-green-500/70 shadow-xl shadow-green-500/25;
  }

  .stats-card-purple {
    @apply bg-gradient-to-br from-purple-500/25 to-pink-500/25 border border-purple-500/50 backdrop-blur-sm shadow-md shadow-purple-500/10 transition-all duration-300;
  }

  .stats-card-purple:hover {
    @apply border-purple-500/70 shadow-xl shadow-purple-500/25;
  }

  .stats-card-orange {
    @apply bg-gradient-to-br from-orange-500/25 to-red-500/25 border border-orange-500/50 backdrop-blur-sm shadow-md shadow-orange-500/10 transition-all duration-300;
  }

  .stats-card-orange:hover {
    @apply border-orange-500/70 shadow-xl shadow-orange-500/25;
  }

  /* Override Ant Design Card backgrounds to show gradients */
  .stats-card-blue.ant-card,
  .stats-card-blue .ant-card-body,
  .stats-card-green.ant-card,
  .stats-card-green .ant-card-body,
  .stats-card-purple.ant-card,
  .stats-card-purple .ant-card-body,
  .stats-card-orange.ant-card,
  .stats-card-orange .ant-card-body {
    background: transparent !important;
  }

  /* Gradient Buttons */
  .btn-gradient-primary {
    @apply bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold
           hover:scale-105 hover:shadow-lg hover:shadow-blue-500/25 transition-all duration-300;
  }

  /* Glassmorphism Panels */
  .glass-panel {
    @apply bg-white/5 backdrop-blur-md border border-white/10 transition-all duration-300;
  }

  .glass-panel:hover {
    @apply bg-white/10 border-white/20;
  }

  /* Section Backgrounds */
  .section-bg-light {
    @apply bg-gradient-to-br from-slate-50 to-blue-50;
  }

  .section-bg-dark {
    @apply bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900;
  }
}
